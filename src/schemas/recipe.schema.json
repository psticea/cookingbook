{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://cookingbook.example.com/recipe.schema.json",
  "title": "Recipe",
  "description": "Schema for a recipe in the cooking website",
  "type": "object",
  "required": [
    "id",
    "category",
    "title",
    "prepTime",
    "servings",
    "effortLevel",
    "image",
    "ingredients",
    "instructions",
    "personalNotes",
    "keywords",
    "dateAdded"
  ],
  "properties": {
    "id": {
      "type": "string",
      "minLength": 1,
      "pattern": "^[a-z0-9-]+$",
      "description": "Recipe ID (kebab-case, matches filename without .json)"
    },
    "category": {
      "type": "string",
      "enum": [
        "breakfast",
        "pasta",
        "stir-fries",
        "soups-and-stews",
        "main-courses",
        "burgers-and-wraps",
        "salads-and-bites",
        "basics"
      ],
      "description": "Recipe category (must match folder name)"
    },
    "image": {
      "type": "string",
      "minLength": 1,
      "description": "Relative path to recipe image"
    },
    "title": {
      "type": "object",
      "description": "Recipe title in multiple languages",
      "required": ["ro", "en"],
      "properties": {
        "ro": {
          "type": "string",
          "minLength": 1,
          "description": "Recipe title in Romanian"
        },
        "en": {
          "type": "string",
          "minLength": 1,
          "description": "Recipe title in English"
        }
      },
      "additionalProperties": false
    },
    "prepTime": {
      "type": "integer",
      "minimum": 1,
      "description": "Preparation time in minutes"
    },
    "servings": {
      "type": "integer",
      "minimum": 1,
      "description": "Number of servings"
    },
    "effortLevel": {
      "type": "string",
      "enum": ["easy", "medium", "hard"],
      "description": "Difficulty level of the recipe"
    },
    "ingredients": {
      "type": "array",
      "minItems": 1,
      "description": "List of ingredients (can contain both ingredients and section headings)",
      "items": {
        "oneOf": [
          {
            "description": "Regular ingredient with name, quantity, and unit",
            "type": "object",
            "required": ["name", "quantity", "unit"],
            "properties": {
              "name": {
                "type": "object",
                "description": "Ingredient name in multiple languages",
                "required": ["ro", "en"],
                "properties": {
                  "ro": {
                    "type": "string",
                    "minLength": 1,
                    "description": "Ingredient name in Romanian"
                  },
                  "en": {
                    "type": "string",
                    "minLength": 1,
                    "description": "Ingredient name in English"
                  }
                },
                "additionalProperties": false
              },
              "quantity": {
                "type": "number",
                "minimum": 0,
                "description": "Quantity of ingredient"
              },
              "unit": {
                "type": "object",
                "description": "Unit of measurement in multiple languages",
                "required": ["ro", "en"],
                "properties": {
                  "ro": {
                    "type": "string",
                    "minLength": 1,
                    "description": "Unit in Romanian"
                  },
                  "en": {
                    "type": "string",
                    "minLength": 1,
                    "description": "Unit in English"
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          },
          {
            "description": "Section heading to group ingredients",
            "type": "object",
            "required": ["section"],
            "properties": {
              "section": {
                "type": "object",
                "description": "Section name in multiple languages",
                "required": ["ro", "en"],
                "properties": {
                  "ro": {
                    "type": "string",
                    "minLength": 1,
                    "description": "Section name in Romanian"
                  },
                  "en": {
                    "type": "string",
                    "minLength": 1,
                    "description": "Section name in English"
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          }
        ]
      }
    },
    "instructions": {
      "type": "object",
      "description": "Cooking instructions in multiple languages",
      "required": ["ro", "en"],
      "properties": {
        "ro": {
          "type": "array",
          "minItems": 1,
          "description": "Instructions in Romanian",
          "items": {
            "type": "string",
            "minLength": 1
          }
        },
        "en": {
          "type": "array",
          "minItems": 1,
          "description": "Instructions in English",
          "items": {
            "type": "string",
            "minLength": 1
          }
        }
      },
      "additionalProperties": false
    },
    "personalNotes": {
      "type": "object",
      "description": "Personal notes, opinions, preferences, or backstory",
      "required": ["ro", "en"],
      "properties": {
        "ro": {
          "type": "string",
          "description": "Personal notes in Romanian (can be empty)"
        },
        "en": {
          "type": "string",
          "description": "Personal notes in English (can be empty)"
        }
      },
      "additionalProperties": false
    },
    "keywords": {
      "type": "array",
      "description": "Filter keywords for the recipe",
      "items": {
        "type": "string",
        "minLength": 1
      },
      "uniqueItems": true
    },
    "dateAdded": {
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "description": "Date when recipe was added (ISO 8601 format: YYYY-MM-DD)"
    }
  },
  "additionalProperties": false
}
